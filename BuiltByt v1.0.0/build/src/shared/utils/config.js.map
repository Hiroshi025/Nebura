{"version":3,"file":"config.js","sources":["src/shared/utils/config.ts"],"sourceRoot":"/","sourcesContent":["import fs from \"fs\";\r\nimport path from \"path\";\r\nimport YAML from \"yaml\";\r\n\r\nimport { ProyectConfig } from \"@typings/config\";\r\n\r\nimport { logWithLabel } from \"./functions/console\";\r\n\r\n/**\r\n * Reads a YAML configuration file and returns its parsed contents.\r\n * @param {string} filename - The name of the configuration file to read.\r\n * @returns The parsed contents of the configuration file as type `T`.\r\n */\r\nconst configDir = path.resolve(__dirname, \"..\", \"..\", \"..\", \"config\");\r\nfunction readConfigFile<T>(filename: string): T {\r\n  const filePath = path.join(configDir, filename);\r\n\r\n  if (!fs.existsSync(filePath)) {\r\n    logWithLabel(\"error\", `Configuration file ${filename} not found.`);\r\n    process.exit(1);\r\n  }\r\n\r\n  if (!fs.statSync(filePath).isFile()) {\r\n    logWithLabel(\"error\", `${filename} is not a file.`);\r\n    process.exit(1);\r\n  }\r\n\r\n  if (path.extname(filePath) !== \".yml\" && path.extname(filePath) !== \".yaml\") {\r\n    logWithLabel(\"error\", `${filename} is not a YAML file.`);\r\n    process.exit(1);\r\n  }\r\n\r\n\r\n  try {\r\n    const fileContents = fs.readFileSync(filePath, \"utf8\");\r\n    return YAML.parse(fileContents) as T;\r\n  } catch (error) {\r\n    logWithLabel(\"error\", `Error reading ${filename}: ${error}`);\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\nconst config = readConfigFile<ProyectConfig>(\"config.yml\");\r\nexport { config, readConfigFile };\r\n"],"names":[],"mappings":";;;;;;;;AA2CiB,wCAAc;AA3C/B,4CAAoB;AACpB,gDAAwB;AACxB,gDAAwB;AAIxB,iDAAmD;AAEnD;;;;GAIG;AACH,MAAM,SAAS,GAAG,cAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;AACtE,SAAS,cAAc,CAAI,QAAgB;IACzC,MAAM,QAAQ,GAAG,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;IAEhD,IAAI,CAAC,YAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC;QAC7B,IAAA,sBAAY,EAAC,OAAO,EAAE,sBAAsB,QAAQ,aAAa,CAAC,CAAC;QACnE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;IAED,IAAI,CAAC,YAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC;QACpC,IAAA,sBAAY,EAAC,OAAO,EAAE,GAAG,QAAQ,iBAAiB,CAAC,CAAC;QACpD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;IAED,IAAI,cAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,MAAM,IAAI,cAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,OAAO,EAAE,CAAC;QAC5E,IAAA,sBAAY,EAAC,OAAO,EAAE,GAAG,QAAQ,sBAAsB,CAAC,CAAC;QACzD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;IAGD,IAAI,CAAC;QACH,MAAM,YAAY,GAAG,YAAE,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QACvD,OAAO,cAAI,CAAC,KAAK,CAAC,YAAY,CAAM,CAAC;IACvC,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,IAAA,sBAAY,EAAC,OAAO,EAAE,iBAAiB,QAAQ,KAAK,KAAK,EAAE,CAAC,CAAC;QAC7D,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;AACH,CAAC;AAED,MAAM,MAAM,GAAG,cAAc,CAAgB,YAAY,CAAC,CAAC;AAClD,wBAAM","debug_id":"5e52e4da-1824-59f3-aed3-ff44eb53a69e"}