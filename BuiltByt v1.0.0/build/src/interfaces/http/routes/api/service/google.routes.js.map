{"version":3,"file":"google.routes.js","sources":["src/interfaces/http/routes/api/service/google.routes.ts"],"sourceRoot":"/","sourcesContent":["// Importa los tipos necesarios de Express\r\n// import { Request, Response } from 'express';\r\n\r\nimport { isCustomerToken } from \"@/interfaces/http/middlewares/jwt/token.middleware\";\r\nimport { validateTokenAI } from \"@/interfaces/http/middlewares/tokens/google.middleware\";\r\nimport { RateLimitManager } from \"@/interfaces/messaging/broker/rateLimit\";\r\nimport { TRoutesInput } from \"@/typings/utils\";\r\n\r\nimport { GeminiController } from \"../../../controllers/asistent/google.controllers\";\r\n\r\n// Constantes para paths base y versionado\r\nconst BASE_PATH = \"/service/google\";\r\nconst API_VERSION = \"/api/v1\";\r\n\r\n/**\r\n * Formatea las rutas de autenticación con el prefijo correcto\r\n * @param path Ruta específica del endpoint\r\n * @returns Ruta completa formateada\r\n */\r\nconst formatRoute = (path: string): string => `${API_VERSION}${BASE_PATH}${path}`;\r\n\r\nexport default ({ app }: TRoutesInput) => {\r\n  /**\r\n   * Procesa texto utilizando el modelo de IA.\r\n   * Método: POST\r\n   * Ruta: /api/v1/service/google/model-ai/text\r\n   * Middleware: RateLimitManager, isCustomerToken, validateTokenAI\r\n   * Controlador: GeminiController.processText\r\n   * Descripción: Permite procesar texto con el modelo de IA de Google.\r\n   */\r\n  app.post(\r\n    formatRoute(\"/model-ai/text\"),\r\n    RateLimitManager.getInstance().createCustomLimiter({\r\n      max: 8,\r\n      windowMs: 60 * 1000,\r\n      message: \"Too many requests, please try again later.\",\r\n    }),\r\n    isCustomerToken,\r\n    validateTokenAI,\r\n    GeminiController.processText,\r\n  );\r\n\r\n  /**\r\n   * Procesa un archivo utilizando el modelo de IA.\r\n   * Método: POST\r\n   * Ruta: /api/v1/service/google/model-ai/file\r\n   * Middleware: RateLimitManager, isCustomerToken, validateTokenAI\r\n   * Controlador: GeminiController.processFile\r\n   * Descripción: Permite procesar un archivo con el modelo de IA de Google.\r\n   */\r\n  app.post(\r\n    formatRoute(\"/model-ai/file\"),\r\n    RateLimitManager.getInstance().createCustomLimiter({\r\n      max: 8,\r\n      windowMs: 60 * 1000,\r\n      message: \"Too many requests, please try again later.\",\r\n    }),\r\n    isCustomerToken,\r\n    validateTokenAI,\r\n    GeminiController.processFile,\r\n  );\r\n\r\n  /**\r\n   * Procesa texto y archivos combinados utilizando el modelo de IA.\r\n   * Método: POST\r\n   * Ruta: /api/v1/service/google/model-ai/advanced\r\n   * Middleware: RateLimitManager, isCustomerToken, validateTokenAI\r\n   * Controlador: GeminiController.processCombined\r\n   * Descripción: Permite procesar texto y archivos combinados con el modelo de IA de Google.\r\n   */\r\n  app.post(\r\n    formatRoute(\"/model-ai/advanced\"),\r\n    RateLimitManager.getInstance().createCustomLimiter({\r\n      max: 8,\r\n      windowMs: 60 * 1000,\r\n      message: \"Too many requests, please try again later.\",\r\n    }),\r\n    isCustomerToken,\r\n    validateTokenAI,\r\n    GeminiController.processCombined,\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;AAAA,0CAA0C;AAC1C,+CAA+C;;AAE/C,yFAAqF;AACrF,8FAAyF;AACzF,uEAA2E;AAG3E,yFAAoF;AAEpF,0CAA0C;AAC1C,MAAM,SAAS,GAAG,iBAAiB,CAAC;AACpC,MAAM,WAAW,GAAG,SAAS,CAAC;AAE9B;;;;GAIG;AACH,MAAM,WAAW,GAAG,CAAC,IAAY,EAAU,EAAE,CAAC,GAAG,WAAW,GAAG,SAAS,GAAG,IAAI,EAAE,CAAC;AAElF,kBAAe,CAAC,EAAE,GAAG,EAAgB,EAAE,EAAE;IACvC;;;;;;;OAOG;IACH,GAAG,CAAC,IAAI,CACN,WAAW,CAAC,gBAAgB,CAAC,EAC7B,4BAAgB,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC;QACjD,GAAG,EAAE,CAAC;QACN,QAAQ,EAAE,EAAE,GAAG,IAAI;QACnB,OAAO,EAAE,4CAA4C;KACtD,CAAC,EACF,kCAAe,EACf,mCAAe,EACf,qCAAgB,CAAC,WAAW,CAC7B,CAAC;IAEF;;;;;;;OAOG;IACH,GAAG,CAAC,IAAI,CACN,WAAW,CAAC,gBAAgB,CAAC,EAC7B,4BAAgB,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC;QACjD,GAAG,EAAE,CAAC;QACN,QAAQ,EAAE,EAAE,GAAG,IAAI;QACnB,OAAO,EAAE,4CAA4C;KACtD,CAAC,EACF,kCAAe,EACf,mCAAe,EACf,qCAAgB,CAAC,WAAW,CAC7B,CAAC;IAEF;;;;;;;OAOG;IACH,GAAG,CAAC,IAAI,CACN,WAAW,CAAC,oBAAoB,CAAC,EACjC,4BAAgB,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC;QACjD,GAAG,EAAE,CAAC;QACN,QAAQ,EAAE,EAAE,GAAG,IAAI;QACnB,OAAO,EAAE,4CAA4C;KACtD,CAAC,EACF,kCAAe,EACf,mCAAe,EACf,qCAAgB,CAAC,eAAe,CACjC,CAAC;AACJ,CAAC,CAAC","debug_id":"0619e7ec-6110-5de0-a88b-b7fa3fcad17f"}