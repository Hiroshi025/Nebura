{"version":3,"file":"twitch-info.js","sources":["src/interfaces/messaging/modules/discord/bot/commands/message/fun/twitch-info.ts"],"sourceRoot":"/","sourcesContent":["import axios from \"axios\";\r\nimport { ChannelType } from \"discord.js\";\r\n\r\nimport { EmbedCorrect, ErrorEmbed } from \"@/shared/adapters/extends/embeds.extend\";\r\nimport { Precommand } from \"@typings/modules/discord\";\r\n\r\nconst twitchInfo: Precommand = {\r\n  name: \"twitch-info\",\r\n  description: \"Provides information on Twitch profile accounts\",\r\n  examples: [\"twitch-info <username>\"],\r\n  nsfw: false,\r\n  owner: false,\r\n  aliases: [\"twitch\", \"twitchinfo\", \"twitchprofile\"],\r\n  botpermissions: [\"SendMessages\"],\r\n  permissions: [\"SendMessages\"],\r\n  async execute(client, message, args) {\r\n    if (!message.guild || !message.channel || message.channel.type !== ChannelType.GuildText) return;\r\n\r\n    const user = args[0];\r\n    if (!user) {\r\n      return message.channel.send({\r\n        embeds: [\r\n          new ErrorEmbed()\r\n            .setTitle(\"Error Command Twitch\")\r\n            .setDescription(\r\n              [\r\n                `${client.getEmoji(message.guild.id, \"error\")} The **username** argument is required.`,\r\n                `Please provide a valid Twitch username.`,\r\n              ].join(\"\\n\"),\r\n            ),\r\n        ],\r\n      });\r\n    }\r\n\r\n    try {\r\n      const Response = await axios.get(`https://api.crunchprank.net/twitch/followcount/${user.toLowerCase()}`);\r\n      const upTime = await axios.get(`https://api.crunchprank.net/twitch/uptime/${user.toLowerCase()}`);\r\n      const totalViews = await axios.get(`https://api.crunchprank.net/twitch/total_views/${user.toLowerCase()}`);\r\n      const accountage = await axios.get(`https://api.crunchprank.net/twitch/creation/${user.toLowerCase()}`);\r\n      const lastGame = await axios.get(`https://api.crunchprank.net/twitch/game/${user.toLowerCase()}`);\r\n      const avatarimg = await axios.get(`https://api.crunchprank.net/twitch/avatar/${user.toLowerCase()}`);\r\n\r\n      if (upTime.data === `${user} is offline`) {\r\n        upTime.data = \"esta Offline\";\r\n      }\r\n\r\n      const embed = new EmbedCorrect()\r\n        .setColor(\"#e100ff\")\r\n        .setTitle(`Twitch stats de: ${user}`)\r\n        .setDescription(\r\n          `‚ù£Ô∏è **Followers**: ${Response.data} \\n\r\n            üëÄ **Views**: ${totalViews.data}\\n \r\n            ‚¨Ü **Uptime**: ${upTime.data} \\n\r\n            üìù **Creado el**: ${accountage.data}  \\n\r\n            ‚èÆÔ∏è **Ultimo juego**: ${lastGame.data} \\n\r\n            üî¥ **En directo**: ${upTime.data}`,\r\n        )\r\n        .setFooter({\r\n          text: `Informacion requerida por: ${message.author.tag}`,\r\n          iconURL: message.author.displayAvatarURL(),\r\n        })\r\n        .setURL(`https://twitch.tv/${user}`)\r\n        .setThumbnail(\"https://pngimg.com/uploads/twitch/twitch_PNG27.png\")\r\n        .setImage(`${avatarimg.data}`)\r\n        .setTimestamp();\r\n\r\n      return message.channel.send({ embeds: [embed] });\r\n    } catch (err) {\r\n      return message.channel.send({\r\n        embeds: [\r\n          new ErrorEmbed()\r\n            .setTitle(\"Error Command Twitch\")\r\n            .setDescription(\r\n              [\r\n                `${client.getEmoji(message.guild.id, \"error\")} An error occurred while fetching Twitch information.`,\r\n                `Please try again later.`,\r\n              ].join(\"\\n\"),\r\n            ),\r\n        ],\r\n      });\r\n    }\r\n  },\r\n};\r\n\r\nexport = twitchInfo;\r\n"],"names":[],"mappings":";;;;;;AAAA,kDAA0B;AAC1B,2CAAyC;AAEzC,2EAAmF;AAGnF,MAAM,UAAU,GAAe;IAC7B,IAAI,EAAE,aAAa;IACnB,WAAW,EAAE,iDAAiD;IAC9D,QAAQ,EAAE,CAAC,wBAAwB,CAAC;IACpC,IAAI,EAAE,KAAK;IACX,KAAK,EAAE,KAAK;IACZ,OAAO,EAAE,CAAC,QAAQ,EAAE,YAAY,EAAE,eAAe,CAAC;IAClD,cAAc,EAAE,CAAC,cAAc,CAAC;IAChC,WAAW,EAAE,CAAC,cAAc,CAAC;IAC7B,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI;QACjC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,KAAK,wBAAW,CAAC,SAAS;YAAE,OAAO;QAEjG,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACrB,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;gBAC1B,MAAM,EAAE;oBACN,IAAI,0BAAU,EAAE;yBACb,QAAQ,CAAC,sBAAsB,CAAC;yBAChC,cAAc,CACb;wBACE,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,EAAE,OAAO,CAAC,yCAAyC;wBACtF,yCAAyC;qBAC1C,CAAC,IAAI,CAAC,IAAI,CAAC,CACb;iBACJ;aACF,CAAC,CAAC;QACL,CAAC;QAED,IAAI,CAAC;YACH,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,kDAAkD,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YACzG,MAAM,MAAM,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,6CAA6C,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YAClG,MAAM,UAAU,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,kDAAkD,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YAC3G,MAAM,UAAU,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,+CAA+C,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YACxG,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,2CAA2C,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YAClG,MAAM,SAAS,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,6CAA6C,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YAErG,IAAI,MAAM,CAAC,IAAI,KAAK,GAAG,IAAI,aAAa,EAAE,CAAC;gBACzC,MAAM,CAAC,IAAI,GAAG,cAAc,CAAC;YAC/B,CAAC;YAED,MAAM,KAAK,GAAG,IAAI,4BAAY,EAAE;iBAC7B,QAAQ,CAAC,SAAS,CAAC;iBACnB,QAAQ,CAAC,oBAAoB,IAAI,EAAE,CAAC;iBACpC,cAAc,CACb,qBAAqB,QAAQ,CAAC,IAAI;4BAChB,UAAU,CAAC,IAAI;4BACf,MAAM,CAAC,IAAI;gCACP,UAAU,CAAC,IAAI;mCACZ,QAAQ,CAAC,IAAI;iCACf,MAAM,CAAC,IAAI,EAAE,CACrC;iBACA,SAAS,CAAC;gBACT,IAAI,EAAE,8BAA8B,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE;gBACxD,OAAO,EAAE,OAAO,CAAC,MAAM,CAAC,gBAAgB,EAAE;aAC3C,CAAC;iBACD,MAAM,CAAC,qBAAqB,IAAI,EAAE,CAAC;iBACnC,YAAY,CAAC,oDAAoD,CAAC;iBAClE,QAAQ,CAAC,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;iBAC7B,YAAY,EAAE,CAAC;YAElB,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACnD,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACb,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;gBAC1B,MAAM,EAAE;oBACN,IAAI,0BAAU,EAAE;yBACb,QAAQ,CAAC,sBAAsB,CAAC;yBAChC,cAAc,CACb;wBACE,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,EAAE,OAAO,CAAC,uDAAuD;wBACpG,yBAAyB;qBAC1B,CAAC,IAAI,CAAC,IAAI,CAAC,CACb;iBACJ;aACF,CAAC,CAAC;QACL,CAAC;IACH,CAAC;CACF,CAAC;AAEF,iBAAS,UAAU,CAAC","debug_id":"81c7fe77-2a96-5866-8b79-b1b23c7a0d95"}