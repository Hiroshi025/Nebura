{"version":3,"file":"prefix.js","sources":["src/interfaces/messaging/modules/discord/bot/commands/message/information/prefix.ts"],"sourceRoot":"/","sourcesContent":["import {\r\n\tActionRowBuilder, ButtonBuilder, ButtonStyle, ChannelType, EmbedBuilder\r\n} from \"discord.js\";\r\n\r\nimport { Precommand } from \"@typings/modules/discord\";\r\n\r\nconst commandPrefix: Precommand = {\r\n  name: \"prefix\",\r\n  description: \"Shows the current prefix configured for this server\",\r\n  examples: [\"prefix\", \"/prefix\"],\r\n  nsfw: false,\r\n  owner: false,\r\n  aliases: [\"getprefix\", \"currentprefix\"],\r\n  botpermissions: [\"SendMessages\", \"EmbedLinks\"],\r\n  permissions: [\"SendMessages\"],\r\n  async execute(_client, message, _args, prefix) {\r\n    if (!message.guild || !message.channel || message.channel.type !== ChannelType.GuildText)\r\n      return;\r\n\r\n    const embed = new EmbedBuilder()\r\n      .setTitle(\"Server Prefix\")\r\n      .setColor(0x5865f2)\r\n      .setDescription(\r\n        [\r\n          `The current prefix for this server is: **\\`${prefix}\\`**`,\r\n          \"\",\r\n          `Use \\`${prefix}help\\` to see all available commands.`,\r\n          `You can mention the bot as a prefix as well.`,\r\n        ].join(\"\\n\"),\r\n      )\r\n      .setFooter({\r\n        text: `Requested by ${message.author.tag}`,\r\n        iconURL: message.author.displayAvatarURL(),\r\n      })\r\n      .setTimestamp();\r\n\r\n    const row = new ActionRowBuilder<ButtonBuilder>().addComponents(\r\n      new ButtonBuilder()\r\n        .setCustomId(\"copy_prefix\")\r\n        .setLabel(\"Copy Prefix\")\r\n        .setStyle(ButtonStyle.Primary)\r\n        .setEmoji(\"ðŸ“‹\"),\r\n    );\r\n\r\n    const sent = await message.reply({ embeds: [embed], components: [row] });\r\n\r\n    const collector = sent.createMessageComponentCollector({\r\n      filter: (i) => i.user.id === message.author.id && i.customId === \"copy_prefix\",\r\n      componentType: 2, // Button\r\n      time: 30000,\r\n    });\r\n\r\n    collector.on(\"collect\", async (interaction) => {\r\n      await interaction.reply({\r\n        content: `Prefix: \\`${prefix}\\``,\r\n        flags: \"Ephemeral\"\r\n      });\r\n    });\r\n\r\n    collector.on(\"end\", () => {\r\n      sent.edit({ components: [] }).catch(() => {});\r\n    });\r\n  },\r\n};\r\n\r\nexport = commandPrefix;\r\n"],"names":[],"mappings":";;;AAAA,2CAEoB;AAIpB,MAAM,aAAa,GAAe;IAChC,IAAI,EAAE,QAAQ;IACd,WAAW,EAAE,qDAAqD;IAClE,QAAQ,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAC;IAC/B,IAAI,EAAE,KAAK;IACX,KAAK,EAAE,KAAK;IACZ,OAAO,EAAE,CAAC,WAAW,EAAE,eAAe,CAAC;IACvC,cAAc,EAAE,CAAC,cAAc,EAAE,YAAY,CAAC;IAC9C,WAAW,EAAE,CAAC,cAAc,CAAC;IAC7B,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM;QAC3C,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,KAAK,wBAAW,CAAC,SAAS;YACtF,OAAO;QAET,MAAM,KAAK,GAAG,IAAI,yBAAY,EAAE;aAC7B,QAAQ,CAAC,eAAe,CAAC;aACzB,QAAQ,CAAC,QAAQ,CAAC;aAClB,cAAc,CACb;YACE,8CAA8C,MAAM,MAAM;YAC1D,EAAE;YACF,SAAS,MAAM,uCAAuC;YACtD,8CAA8C;SAC/C,CAAC,IAAI,CAAC,IAAI,CAAC,CACb;aACA,SAAS,CAAC;YACT,IAAI,EAAE,gBAAgB,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE;YAC1C,OAAO,EAAE,OAAO,CAAC,MAAM,CAAC,gBAAgB,EAAE;SAC3C,CAAC;aACD,YAAY,EAAE,CAAC;QAElB,MAAM,GAAG,GAAG,IAAI,6BAAgB,EAAiB,CAAC,aAAa,CAC7D,IAAI,0BAAa,EAAE;aAChB,WAAW,CAAC,aAAa,CAAC;aAC1B,QAAQ,CAAC,aAAa,CAAC;aACvB,QAAQ,CAAC,wBAAW,CAAC,OAAO,CAAC;aAC7B,QAAQ,CAAC,IAAI,CAAC,CAClB,CAAC;QAEF,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,KAAK,CAAC,EAAE,UAAU,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAEzE,MAAM,SAAS,GAAG,IAAI,CAAC,+BAA+B,CAAC;YACrD,MAAM,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,OAAO,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC,QAAQ,KAAK,aAAa;YAC9E,aAAa,EAAE,CAAC,EAAE,SAAS;YAC3B,IAAI,EAAE,KAAK;SACZ,CAAC,CAAC;QAEH,SAAS,CAAC,EAAE,CAAC,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,EAAE;YAC5C,MAAM,WAAW,CAAC,KAAK,CAAC;gBACtB,OAAO,EAAE,aAAa,MAAM,IAAI;gBAChC,KAAK,EAAE,WAAW;aACnB,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,SAAS,CAAC,EAAE,CAAC,KAAK,EAAE,GAAG,EAAE;YACvB,IAAI,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,GAAE,CAAC,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;IACL,CAAC;CACF,CAAC;AAEF,iBAAS,aAAa,CAAC","debug_id":"36eae654-6f1a-5f62-afe9-86535e58787d"}