{"version":3,"file":"search.js","sources":["src/interfaces/messaging/modules/discord/bot/interactions/modals/help/search.ts"],"sourceRoot":"/","sourcesContent":["import { EmbedCorrect, ErrorEmbed } from \"@/shared/adapters/extends/embeds.extend\";\r\nimport { Modals, Precommand } from \"@typings/modules/discord\";\r\n\r\nconst ModalSearch: Modals = {\r\n  id: `search_modal`,\r\n  tickets: false,\r\n  owner: true,\r\n  permissions: [\"SendMessages\"],\r\n  botpermissions: [\"SendMessages\"],\r\n  async execute(interaction, client) {\r\n    if (!interaction.guild || !interaction.channel) return;\r\n    const query = interaction.fields.getTextInputValue(\"search_query\").toLowerCase();\r\n    const allCommands = Array.from(client.precommands.values());\r\n\r\n    const matchedCommands = allCommands.filter(\r\n      (cmd) =>\r\n        (cmd as Precommand).name.toLowerCase().includes(query) ||\r\n        (cmd as Precommand).aliases?.some((a) => a.toLowerCase().includes(query)) ||\r\n        (cmd as Precommand).description.toLowerCase().includes(query),\r\n    );\r\n\r\n    if (matchedCommands.length === 0) {\r\n      return interaction.reply({\r\n        embeds: [\r\n          new ErrorEmbed()\r\n            .setTitle(\"No Results Found\")\r\n            .setDescription(\r\n              [\r\n                `${client.getEmoji(interaction.guild.id, \"error\")} No commands found matching your search.`,\r\n                `Try using different keywords or check the command list.`,\r\n              ].join(\"\\n\"),\r\n            ),\r\n        ],\r\n        flags: \"Ephemeral\",\r\n      });\r\n    }\r\n\r\n    const searchEmbed = new EmbedCorrect()\r\n      .setTitle(`Search Results for \"${query}\"`)\r\n      .setColor(\"#7289DA\")\r\n      .setDescription(`Found ${matchedCommands.length} matching commands`)\r\n      .addFields({\r\n        name: \"Commands\",\r\n        value: matchedCommands\r\n          .slice(0, 15)\r\n          .map(\r\n            (cmd) =>\r\n              `â€¢ \\`${(cmd as Precommand).name}\\` - ${(cmd as Precommand).description.substring(0, 50)}${(cmd as Precommand).description.length > 50 ? \"...\" : \"\"}`,\r\n          )\r\n          .join(\"\\n\"),\r\n      });\r\n\r\n    if (matchedCommands.length > 15) {\r\n      searchEmbed.setFooter({\r\n        text: `Showing 15 of ${matchedCommands.length} results. Refine your search for more precise results.`,\r\n      });\r\n    }\r\n\r\n    await interaction.reply({\r\n      embeds: [searchEmbed],\r\n      flags: \"Ephemeral\",\r\n    });\r\n\r\n    return;\r\n  },\r\n};\r\n\r\nexport = ModalSearch;\r\n"],"names":[],"mappings":";;;AAAA,2EAAmF;AAGnF,MAAM,WAAW,GAAW;IAC1B,EAAE,EAAE,cAAc;IAClB,OAAO,EAAE,KAAK;IACd,KAAK,EAAE,IAAI;IACX,WAAW,EAAE,CAAC,cAAc,CAAC;IAC7B,cAAc,EAAE,CAAC,cAAc,CAAC;IAChC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,MAAM;QAC/B,IAAI,CAAC,WAAW,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,OAAO;YAAE,OAAO;QACvD,MAAM,KAAK,GAAG,WAAW,CAAC,MAAM,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,WAAW,EAAE,CAAC;QACjF,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC;QAE5D,MAAM,eAAe,GAAG,WAAW,CAAC,MAAM,CACxC,CAAC,GAAG,EAAE,EAAE,CACL,GAAkB,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC;YACrD,GAAkB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACxE,GAAkB,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAChE,CAAC;QAEF,IAAI,eAAe,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACjC,OAAO,WAAW,CAAC,KAAK,CAAC;gBACvB,MAAM,EAAE;oBACN,IAAI,0BAAU,EAAE;yBACb,QAAQ,CAAC,kBAAkB,CAAC;yBAC5B,cAAc,CACb;wBACE,GAAG,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,EAAE,OAAO,CAAC,0CAA0C;wBAC3F,yDAAyD;qBAC1D,CAAC,IAAI,CAAC,IAAI,CAAC,CACb;iBACJ;gBACD,KAAK,EAAE,WAAW;aACnB,CAAC,CAAC;QACL,CAAC;QAED,MAAM,WAAW,GAAG,IAAI,4BAAY,EAAE;aACnC,QAAQ,CAAC,uBAAuB,KAAK,GAAG,CAAC;aACzC,QAAQ,CAAC,SAAS,CAAC;aACnB,cAAc,CAAC,SAAS,eAAe,CAAC,MAAM,oBAAoB,CAAC;aACnE,SAAS,CAAC;YACT,IAAI,EAAE,UAAU;YAChB,KAAK,EAAE,eAAe;iBACnB,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;iBACZ,GAAG,CACF,CAAC,GAAG,EAAE,EAAE,CACN,OAAQ,GAAkB,CAAC,IAAI,QAAS,GAAkB,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAI,GAAkB,CAAC,WAAW,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CACvJ;iBACA,IAAI,CAAC,IAAI,CAAC;SACd,CAAC,CAAC;QAEL,IAAI,eAAe,CAAC,MAAM,GAAG,EAAE,EAAE,CAAC;YAChC,WAAW,CAAC,SAAS,CAAC;gBACpB,IAAI,EAAE,iBAAiB,eAAe,CAAC,MAAM,wDAAwD;aACtG,CAAC,CAAC;QACL,CAAC;QAED,MAAM,WAAW,CAAC,KAAK,CAAC;YACtB,MAAM,EAAE,CAAC,WAAW,CAAC;YACrB,KAAK,EAAE,WAAW;SACnB,CAAC,CAAC;QAEH,OAAO;IACT,CAAC;CACF,CAAC;AAEF,iBAAS,WAAW,CAAC","debug_id":"da6d986d-d282-51f3-9e9b-48e8ed322757"}