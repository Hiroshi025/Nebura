{"version":3,"file":"info.js","sources":["src/interfaces/messaging/modules/discord/bot/commands/message/admin/giveaways/info.ts"],"sourceRoot":"/","sourcesContent":["// src/commands/giveaway/info.ts\r\nimport { EmbedBuilder } from \"discord.js\";\r\n\r\nimport { GiveawayManager } from \"@/main\";\r\nimport { ErrorEmbed } from \"@/shared/adapters/extends/embeds.extend\";\r\nimport { Precommand } from \"@typings/modules/discord\";\r\n\r\nconst GiveawayInfo: Precommand = {\r\n  name: \"giveaway-info\",\r\n  description: \"Get information about a giveaway\",\r\n  examples: [\"/giveaway info\"],\r\n  nsfw: false,\r\n  owner: false,\r\n  permissions: [],\r\n  botpermissions: [\"SendMessages\", \"EmbedLinks\"],\r\n  async execute(_client, message) {\r\n    if (!message.guild) return;\r\n\r\n    const giveaways = await GiveawayManager.getManager().giveaways.filter(\r\n      (g) => g.guildId === message.guild?.id && !g.ended,\r\n    );\r\n\r\n    if (giveaways.length === 0) {\r\n      return message.reply({\r\n        embeds: [new ErrorEmbed().setDescription(\"There are no active giveaways in this server!\")],\r\n        flags: \"SuppressNotifications\",\r\n      });\r\n    }\r\n\r\n    const giveaway = giveaways[0]; // For simplicity, showing the first active giveaway\r\n    // In a real implementation, you might want to let users select which giveaway to view\r\n\r\n    const embed = new EmbedBuilder()\r\n      .setTitle(`ðŸŽ‰ Giveaway: ${giveaway.prize}`)\r\n      .setDescription(\r\n        `**Hosted by:** ${giveaway.hostedBy}\\n` +\r\n          `**Winners:** ${giveaway.winnerCount}\\n` +\r\n          `**Ends in:** ${giveaway.remainingTime}\\n` +\r\n          //`**Participants:** ${giveaway.u ? giveaway.participants.length : 0}\\n` +\r\n          `[Jump to Giveaway](${giveaway.messageURL})`,\r\n      )\r\n      .setColor(\"#FFD700\")\r\n      .setFooter({ text: `Giveaway ID: ${giveaway.messageId}` })\r\n      .setTimestamp(giveaway.endAt);\r\n\r\n    return await message.reply({ embeds: [embed] });\r\n  },\r\n};\r\n\r\nexport = GiveawayInfo;\r\n"],"names":[],"mappings":";;;AAAA,gCAAgC;AAChC,2CAA0C;AAE1C,iCAAyC;AACzC,2EAAqE;AAGrE,MAAM,YAAY,GAAe;IAC/B,IAAI,EAAE,eAAe;IACrB,WAAW,EAAE,kCAAkC;IAC/C,QAAQ,EAAE,CAAC,gBAAgB,CAAC;IAC5B,IAAI,EAAE,KAAK;IACX,KAAK,EAAE,KAAK;IACZ,WAAW,EAAE,EAAE;IACf,cAAc,EAAE,CAAC,cAAc,EAAE,YAAY,CAAC;IAC9C,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO;QAC5B,IAAI,CAAC,OAAO,CAAC,KAAK;YAAE,OAAO;QAE3B,MAAM,SAAS,GAAG,MAAM,sBAAe,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,MAAM,CACnE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,KAAK,CACnD,CAAC;QAEF,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC3B,OAAO,OAAO,CAAC,KAAK,CAAC;gBACnB,MAAM,EAAE,CAAC,IAAI,0BAAU,EAAE,CAAC,cAAc,CAAC,+CAA+C,CAAC,CAAC;gBAC1F,KAAK,EAAE,uBAAuB;aAC/B,CAAC,CAAC;QACL,CAAC;QAED,MAAM,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,oDAAoD;QACnF,sFAAsF;QAEtF,MAAM,KAAK,GAAG,IAAI,yBAAY,EAAE;aAC7B,QAAQ,CAAC,gBAAgB,QAAQ,CAAC,KAAK,EAAE,CAAC;aAC1C,cAAc,CACb,kBAAkB,QAAQ,CAAC,QAAQ,IAAI;YACrC,gBAAgB,QAAQ,CAAC,WAAW,IAAI;YACxC,gBAAgB,QAAQ,CAAC,aAAa,IAAI;YAC1C,0EAA0E;YAC1E,sBAAsB,QAAQ,CAAC,UAAU,GAAG,CAC/C;aACA,QAAQ,CAAC,SAAS,CAAC;aACnB,SAAS,CAAC,EAAE,IAAI,EAAE,gBAAgB,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC;aACzD,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAEhC,OAAO,MAAM,OAAO,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAClD,CAAC;CACF,CAAC;AAEF,iBAAS,YAAY,CAAC","debug_id":"33b45f2d-11c5-50a9-9da0-90ee45ba9684"}