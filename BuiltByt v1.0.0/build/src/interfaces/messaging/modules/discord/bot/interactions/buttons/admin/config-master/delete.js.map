{"version":3,"file":"delete.js","sources":["src/interfaces/messaging/modules/discord/bot/interactions/buttons/admin/config-master/delete.ts"],"sourceRoot":"/","sourcesContent":["import { main } from \"@/main\";\r\nimport { EmbedCorrect } from \"@/shared/adapters/extends/embeds.extend\";\r\nimport { clientID } from \"@/shared/class/DB\";\r\nimport { Buttons } from \"@typings/modules/discord\";\r\n\r\nconst deleteWebhookConfig: Buttons = {\r\n  id: \"button-delete-webhook-config\",\r\n  tickets: false,\r\n  owner: true,\r\n  permissions: [\"SendMessages\"],\r\n  botpermissions: [\"SendMessages\"],\r\n  async execute(interaction, client) {\r\n    if (!interaction.guild || !interaction.channel) return;\r\n    const i = interaction;\r\n    await i\r\n      .update({\r\n        embeds: [\r\n          new EmbedCorrect()\r\n            .setTitle(\"Configuration\")\r\n            .setDescription(\r\n              [\r\n                `${client.getEmoji(interaction.guildId as string, \"correct\")} **Configuration**`,\r\n                `The webhook URL has been successfully removed, please check \\`/config\\` again.`,\r\n              ].join(\"\\n\"),\r\n            ),\r\n        ],\r\n        components: [],\r\n      })\r\n      .then(async () => {\r\n        await main.prisma.discord.update({\r\n          where: { clientId: clientID },\r\n          data: { webhookURL: null },\r\n        });\r\n      });\r\n  },\r\n};\r\n\r\nexport = deleteWebhookConfig;\r\n"],"names":[],"mappings":";;;AAAA,iCAA8B;AAC9B,2EAAuE;AACvE,0CAA6C;AAG7C,MAAM,mBAAmB,GAAY;IACnC,EAAE,EAAE,8BAA8B;IAClC,OAAO,EAAE,KAAK;IACd,KAAK,EAAE,IAAI;IACX,WAAW,EAAE,CAAC,cAAc,CAAC;IAC7B,cAAc,EAAE,CAAC,cAAc,CAAC;IAChC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,MAAM;QAC/B,IAAI,CAAC,WAAW,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,OAAO;YAAE,OAAO;QACvD,MAAM,CAAC,GAAG,WAAW,CAAC;QACtB,MAAM,CAAC;aACJ,MAAM,CAAC;YACN,MAAM,EAAE;gBACN,IAAI,4BAAY,EAAE;qBACf,QAAQ,CAAC,eAAe,CAAC;qBACzB,cAAc,CACb;oBACE,GAAG,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,OAAiB,EAAE,SAAS,CAAC,oBAAoB;oBAChF,gFAAgF;iBACjF,CAAC,IAAI,CAAC,IAAI,CAAC,CACb;aACJ;YACD,UAAU,EAAE,EAAE;SACf,CAAC;aACD,IAAI,CAAC,KAAK,IAAI,EAAE;YACf,MAAM,WAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;gBAC/B,KAAK,EAAE,EAAE,QAAQ,EAAE,aAAQ,EAAE;gBAC7B,IAAI,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE;aAC3B,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;CACF,CAAC;AAEF,iBAAS,mBAAmB,CAAC","debug_id":"bbcd8557-c12f-57fa-8133-002e9250230a"}