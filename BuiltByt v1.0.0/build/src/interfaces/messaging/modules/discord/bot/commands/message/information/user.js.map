{"version":3,"file":"user.js","sources":["src/interfaces/messaging/modules/discord/bot/commands/message/information/user.ts"],"sourceRoot":"/","sourcesContent":["import \"moment/locale/es\";\r\n\r\nimport { ChannelType, GuildMember } from \"discord.js\";\r\nimport moment from \"moment\";\r\n\r\nimport {\r\n\tcreateCollectorsv2, createComponentsv2, createMainEmbedv2, createStatusEmbed, getTargetUserv2\r\n} from \"@/interfaces/messaging/modules/discord/structure/utils/functions\";\r\nimport { Precommand } from \"@typings/modules/discord\";\r\n\r\nmoment.locale(\"es\");\r\n\r\nconst commandUserInfo: Precommand = {\r\n  name: \"userinfo\",\r\n  description: \"The command to get information about a user.\",\r\n  examples: [\"userinfo @usuario\", \"userinfo 123456789012345678\"],\r\n  nsfw: false,\r\n  owner: false,\r\n  aliases: [\"user\", \"usuario\", \"uinfo\"],\r\n  botpermissions: [\"SendMessages\", \"EmbedLinks\"],\r\n  permissions: [\"SendMessages\"],\r\n  async execute(client, message, args) {\r\n    if (!message.guild || !message.channel || message.channel.type !== ChannelType.GuildText)\r\n      return;\r\n\r\n    // Obtener el usuario objetivo\r\n    const targetUser = await await getTargetUserv2(message, args);\r\n    if (!targetUser)\r\n      return message.reply({\r\n        embeds: [\r\n          {\r\n            title: \"Error User Info\",\r\n            description: [\r\n              `${client.getEmoji(message.guild.id, \"error\")} The user was not found.`,\r\n              `Please mention a user or provide their ID.`,\r\n            ].join(\"\\n\"),\r\n          },\r\n        ],\r\n      });\r\n\r\n    // Obtener el miembro de la guild (si est√° presente)\r\n    let targetMember: GuildMember | undefined;\r\n    try {\r\n      targetMember = await message.guild.members.fetch(targetUser.id);\r\n    } catch {\r\n      targetMember = undefined;\r\n    }\r\n\r\n    // Crear embeds principales\r\n    const mainEmbed = await createMainEmbedv2(targetUser, targetMember);\r\n    const statusEmbed = await createStatusEmbed(targetUser, targetMember);\r\n\r\n    // Componentes interactivos\r\n    const components = await createComponentsv2(targetUser, targetMember);\r\n\r\n    // Enviar mensaje\r\n    const msg = await message.reply({\r\n      embeds: [mainEmbed, statusEmbed],\r\n      components: [components.buttons, components.selectMenu],\r\n    });\r\n\r\n    // Colector de interacciones\r\n    await createCollectorsv2(msg, targetUser, targetMember);\r\n    return;\r\n  },\r\n};\r\n\r\nexport = commandUserInfo;\r\n"],"names":[],"mappings":";;;;;;AAAA,4BAA0B;AAE1B,2CAAsD;AACtD,oDAA4B;AAE5B,gGAE0E;AAG1E,gBAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAEpB,MAAM,eAAe,GAAe;IAClC,IAAI,EAAE,UAAU;IAChB,WAAW,EAAE,8CAA8C;IAC3D,QAAQ,EAAE,CAAC,mBAAmB,EAAE,6BAA6B,CAAC;IAC9D,IAAI,EAAE,KAAK;IACX,KAAK,EAAE,KAAK;IACZ,OAAO,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,CAAC;IACrC,cAAc,EAAE,CAAC,cAAc,EAAE,YAAY,CAAC;IAC9C,WAAW,EAAE,CAAC,cAAc,CAAC;IAC7B,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI;QACjC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,KAAK,wBAAW,CAAC,SAAS;YACtF,OAAO;QAET,8BAA8B;QAC9B,MAAM,UAAU,GAAG,MAAM,MAAM,IAAA,2BAAe,EAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAC9D,IAAI,CAAC,UAAU;YACb,OAAO,OAAO,CAAC,KAAK,CAAC;gBACnB,MAAM,EAAE;oBACN;wBACE,KAAK,EAAE,iBAAiB;wBACxB,WAAW,EAAE;4BACX,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,EAAE,OAAO,CAAC,0BAA0B;4BACvE,4CAA4C;yBAC7C,CAAC,IAAI,CAAC,IAAI,CAAC;qBACb;iBACF;aACF,CAAC,CAAC;QAEL,oDAAoD;QACpD,IAAI,YAAqC,CAAC;QAC1C,IAAI,CAAC;YACH,YAAY,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QAClE,CAAC;QAAC,MAAM,CAAC;YACP,YAAY,GAAG,SAAS,CAAC;QAC3B,CAAC;QAED,2BAA2B;QAC3B,MAAM,SAAS,GAAG,MAAM,IAAA,6BAAiB,EAAC,UAAU,EAAE,YAAY,CAAC,CAAC;QACpE,MAAM,WAAW,GAAG,MAAM,IAAA,6BAAiB,EAAC,UAAU,EAAE,YAAY,CAAC,CAAC;QAEtE,2BAA2B;QAC3B,MAAM,UAAU,GAAG,MAAM,IAAA,8BAAkB,EAAC,UAAU,EAAE,YAAY,CAAC,CAAC;QAEtE,iBAAiB;QACjB,MAAM,GAAG,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC;YAC9B,MAAM,EAAE,CAAC,SAAS,EAAE,WAAW,CAAC;YAChC,UAAU,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,UAAU,CAAC,UAAU,CAAC;SACxD,CAAC,CAAC;QAEH,4BAA4B;QAC5B,MAAM,IAAA,8BAAkB,EAAC,GAAG,EAAE,UAAU,EAAE,YAAY,CAAC,CAAC;QACxD,OAAO;IACT,CAAC;CACF,CAAC;AAEF,iBAAS,eAAe,CAAC","debug_id":"a20db320-67b4-56a8-9aa5-23b8183748be"}